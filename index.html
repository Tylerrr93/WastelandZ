<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>Wasteland Survivor</title>
</* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   WASTELAND SURVIVOR â€” config.js
   All game data. Add items/enemies/recipes here.
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

const C = {
w: 60, h: 60,

/* â”€â”€ World Tiles â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
tiles: {
  grass:   {ch:',', css:'t-grass',  pass:true,  cap:2, name:"Wild Grass",    desc:"Overgrown vegetation.", placeable:true},
  forest:  {ch:'ğŸŒ²',css:'t-forest', pass:true,  cap:4, name:"Deep Woods",    desc:"Dense trees. Good cover.", placeable:true},
  water:   {ch:'â‰ˆ', css:'t-water',  pass:false, cap:0, name:"Deep Water",    desc:"Impassable."},
  road:    {ch:'Â·', css:'t-road',   pass:true,  cap:2, name:"Old Road",      desc:"Cracked asphalt.", placeable:true},
  bridge:  {ch:'=', css:'t-bridge', pass:true,  cap:0, name:"Bridge",        desc:"Safe crossing."},
  house:   {ch:'ğŸ ',css:'t-house',  pass:true,  cap:3, name:"Ruined House",  desc:"Enterable. Search inside."},
  store:   {ch:'ğŸª',css:'t-store',  pass:true,  cap:5, name:"Grocery Store", desc:"Rich pickings inside."},
  camp:    {ch:'â›º',css:'t-camp',   pass:true,  cap:0, name:"Base Camp",     desc:"Your starting camp."},
  bedroll: {ch:'ğŸ›Œ',css:'t-bedroll',pass:true,  cap:0, name:"Bedroll",       desc:"A rough sleeping spot. Better than bare ground."},
  shelter: {ch:'ğŸ•ï¸',css:'t-shelter',pass:true,  cap:0, name:"Lean-To",       desc:"A sturdy shelter. Almost feels like home."},
},

/* â”€â”€ Interior Tile Types â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
itiles: {
  wall:   {ch:'â–“', css:'it-wall',   pass:false},
  floor:  {ch:'Â·', css:'it-floor',  pass:true},
  door:   {ch:'â•¬', css:'it-door',   pass:true, entry:true, barricadable:true},
  window: {ch:'â–¢', css:'it-window', pass:true, entry:true, barricadable:true},
  shelf:  {ch:'ğŸ“¦',css:'it-shelf',  pass:false, searchable:true},
  counter:{ch:'ğŸ”²',css:'it-counter',pass:false, searchable:true},
},

/* â”€â”€ Skills â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
skills: {
  survival:  {name:"Survival",  start:true,  desc:"scavenging & searching"},
  combat:    {name:"Combat",    start:true,  desc:"damage dealt in fights"},
  carpentry: {name:"Carpentry", start:false, desc:"barricading & crafting"},
},

/* â”€â”€ Items â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
items: {
  knife:       {name:"Shiv",           type:'weapon',icon:'ğŸ”ª',stat:'atk',val:3, wgt:0.5,dur:40},
  bat:         {name:"Nail Bat",       type:'weapon',icon:'ğŸ',stat:'atk',val:5, wgt:2.0,dur:60},
  rifle:       {name:"Old Rifle",      type:'weapon',icon:'ğŸ”«',stat:'atk',val:10,wgt:4.0,dur:25},
  flashlight:  {name:"Flashlight",     type:'tool',  icon:'ğŸ”¦',stat:'vis',val:2, wgt:0.5,dur:80},
  hammer:      {name:"Hammer",         type:'tool',  icon:'ğŸ”¨',stat:'vis',val:0, wgt:1.0,dur:100},
  boots:       {name:"Work Boots",     type:'feet',  icon:'ğŸ¥¾',stat:'mov',val:1, wgt:1.0,dur:200},
  jacket:      {name:"Leather Jacket", type:'body',  icon:'ğŸ§¥',stat:'def',val:5, wgt:2.0,dur:80},
  backpack:    {name:"Hiking Pack",    type:'back',  icon:'ğŸ’',stat:'cap',val:20,wgt:1.0},
  canned:      {name:"Canned Beans",   type:'use',   icon:'ğŸ¥«',effect:'food', val:25,wgt:0.5,stack:10},
  jerky:       {name:"Dried Jerky",    type:'use',   icon:'ğŸ¥©',effect:'food', val:15,wgt:0.2,stack:10},
  water_b:     {name:"Water Bottle",   type:'use',   icon:'ğŸ’§',effect:'water',val:25,wgt:0.5,stack:10},
  bandage:     {name:"Bandage",        type:'use',   icon:'ğŸ©¹',effect:'heal', val:20,wgt:0.1,stack:5},
  book_carp:   {name:"Carpentry Vol.1",type:'read',  icon:'ğŸ“˜',skill:'carpentry',xp:50,wgt:0.5},
  scrap:       {name:"Scrap Metal",    type:'mat',   icon:'âš™ï¸',wgt:0.2,stack:50},
  wood:        {name:"Plank",          type:'mat',   icon:'ğŸªµ',wgt:1.0,stack:10},
  nails:       {name:"Box of Nails",   type:'mat',   icon:'ğŸ”©',wgt:0.1,stack:100},
  cloth:       {name:"Cloth Strip",    type:'mat',   icon:'ğŸ§µ',wgt:0.1,stack:20},
  bedroll_kit: {name:"Bedroll Kit",    type:'place', icon:'ğŸ›Œ',placeType:'bedroll',wgt:1.5},
  shelter_kit: {name:"Lean-To Kit",    type:'place', icon:'ğŸ•ï¸',placeType:'shelter',wgt:3.0},
},

/* â”€â”€ Enemies â€” add new types here + in zombieSpawns â”€â”€â”€â”€â”€â”€â”€â”€ */
enemies: {
  shambler:{name:"Shambler",icon:'ğŸ§Ÿ',hp:12,atk:4, def:0,xp:15,speed:4},
  runner:  {name:"Runner",  icon:'ğŸ’€',hp:8, atk:6, def:0,xp:25,speed:2},
  brute:   {name:"Brute",   icon:'ğŸ‘¹',hp:30,atk:10,def:3,xp:50,speed:5},
},
zombieSpawns: [
  {id:'shambler',weight:10},
  {id:'runner',  weight:2},
  {id:'brute',   weight:1},
],

/* â”€â”€ Recipes â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
recipes: {
  nail_bat:    {name:"Nail Bat",    reqSkill:null,            inputs:{wood:1,nails:6},         result:{type:'item',id:'bat',count:1}},
  bandage_c:   {name:"Bandage",     reqSkill:null,            inputs:{cloth:2},                result:{type:'item',id:'bandage',count:1}},
  bedroll_c:   {name:"Bedroll Kit", reqSkill:null,            inputs:{cloth:5},                result:{type:'item',id:'bedroll_kit',count:1}},
  shelter_c:   {name:"Lean-To Kit", reqSkill:['carpentry',1], inputs:{wood:3,cloth:3,nails:4}, result:{type:'item',id:'shelter_kit',count:1}},
  barricade:   {name:"Barricade",   reqSkill:['carpentry',1], inputs:{wood:1,nails:3},         result:{type:'barricade'}},
},

/* â”€â”€ Rest Tiers (progression: rough â†’ bedroll â†’ shelter â†’ camp/home) â”€ */
restTiers: {
  rough:   {stm:50,  hp:0,  food:10, water:10, ticks:5, label:"Rough Rest",
            msg:["Slept fitfully on the cold ground.", "Dozed off against a tree. Every sound jolts you awake.", "Barely slept. Your back aches something fierce."]},
  bedroll: {stm:80,  hp:10, food:7,  water:7,  ticks:3, label:"Bedroll",
            msg:["The bedroll keeps the worst of the cold out.", "Managed some real sleep for once.", "Not luxury, but the bedroll helps."]},
  shelter: {stm:100, hp:20, food:5,  water:5,  ticks:3, label:"Lean-To",
            msg:["Sheltered from the wind. Slept well.", "The lean-to kept you hidden and warm.", "Proper rest under cover. Feeling strong."]},
  camp:    {stm:100, hp:15, food:5,  water:5,  ticks:3, label:"Camp",
            msg:["Rested at camp. Familiar ground.", "Home base. You sleep soundly.", "Camp rest. Ready to move."]},
  home:    {stm:100, hp:25, food:5,  water:5,  ticks:3, label:"Home",
            msg:["Slept behind barricaded walls. Wounds healing.", "The closest thing to safety out here.", "A full rest in your claimed home. Refreshed."]},
},

/* â”€â”€ Loot Pools â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
lootPools: {
  nature:     [{id:'wood',weight:15},{id:'cloth',weight:4},{id:'book_carp',weight:1}],
  road:       [{id:'scrap',weight:10},{id:'water_b',weight:5},{id:'nails',weight:8},{id:'knife',weight:2}],
  house:      [{id:'canned',weight:8},{id:'water_b',weight:8},{id:'bandage',weight:5},{id:'nails',weight:8},{id:'book_carp',weight:2},{id:'knife',weight:3},{id:'cloth',weight:6}],
  store:      [{id:'canned',weight:15},{id:'water_b',weight:12},{id:'bandage',weight:6},{id:'backpack',weight:2},{id:'boots',weight:2},{id:'flashlight',weight:3},{id:'jerky',weight:8}],
  shelf_house:[{id:'canned',weight:10},{id:'water_b',weight:10},{id:'bandage',weight:8},{id:'cloth',weight:8},{id:'nails',weight:10},{id:'hammer',weight:3},{id:'knife',weight:4},{id:'jacket',weight:2},{id:'book_carp',weight:3}],
  shelf_store:[{id:'canned',weight:15},{id:'water_b',weight:15},{id:'bandage',weight:10},{id:'jerky',weight:10},{id:'backpack',weight:3},{id:'flashlight',weight:5},{id:'boots',weight:3},{id:'rifle',weight:1}],
},
tileLoot: {grass:'nature', forest:'nature', road:'road', house:'house', store:'store'},

/* â”€â”€ Interior Layouts (# wall, . floor, D door, W window, S shelf) â”€â”€ */
layouts: {
  house: [
    ["#######","#S...S#","#.....#","##.D.##","#S...S#","#.....#","#W#.#W#"],
    ["#######","#S....#","#.....#","#..####","#S..S.#","#.....#","#W#D#W#"],
    ["#######","#.S.S.#","#.....#","#.....#","#.....#","#S...S#","##WDW##"],
  ],
  store: [
    ["#########","#.S.S.S.#","#.......#","#.S.S.S.#","#.......#","#.......#","####D####"],
    ["#########","#S.....S#","#.......#","#.S.S.S.#","#.......#","#S.....S#","####D####"],
  ],
},

startItems: ['canned','canned','water_b','water_b','knife','bandage','bandage','hammer','nails','wood','wood','book_carp'],

player: {hp:100, stm:100, food:80, h2o:80, maxWeight:15},

/* â”€â”€ Tuning Constants â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
tuning: {
  // Vision & Movement
  baseVision:     3,
  nightVisPen:    1,
  moveCost:       2,
  encumberedStamPen: 2,

  // Resource Costs
  scavengeCost:   8,
  searchCost:     5,
  scavengeChance: 0.45,

  // Survival Drain
  tickHunger:     0.25,
  tickThirst:     0.4,
  starveDmg:      1,

  // Combat
  baseDmg:        1,
  combatSkillBonus: 0.5,
  durWeapon:      1,
  durArmor:       1,
  durTool:        1,

  // Day/Night Cycle
  turnsPerDay:    24,
  nightRatio:     0.35,

  // Zombie Spawning & AI
  initZombies:    4,
  zombiesPerNight:2,
  zombieEsc:      0.3,     // extra zombies per day
  maxZombies:     20,
  zombieAggro:    5,       // tiles before zombie chases
  zombieSpawnBuf: 10,      // min distance from player to spawn

  // Building Interiors
  interiorZombieChance: 0.25,
  barricadeHp:    50,
},

worldGen: {
  cityCount:6, cityMinEdgeBuffer:5, cityCoreDist:2,
  citySuburbDist:5, citySuburbChance:0.4, storeChance:0.3,
  terrainWaterThreshold:1.8, terrainForestThreshold:1.2,
},
};>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   VARIABLES & RESET
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
:root{--bg:#0d1117;--panel:#161b22;--border:#30363d;--accent:#d29922;
--text:#c9d1d9;--danger:#da3633;--warn:#d29922;--good:#238636;--tile:36px}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Courier New',monospace;background:var(--bg);color:var(--text);
font-size:13px;height:100vh;height:100dvh;display:flex;flex-direction:column;
overflow:hidden;user-select:none;-webkit-user-select:none;touch-action:manipulation}
.app{max-width:1000px;margin:0 auto;width:100%;height:100%;display:flex;flex-direction:column}

/* â•â•â• HEADER â•â•â• */
.header{padding:6px 10px;background:#000;border-bottom:1px solid var(--border);
display:flex;justify-content:space-between;align-items:center;height:38px;flex-shrink:0}
.sg{display:flex;gap:10px;font-weight:bold;font-size:12px}
.s-hp{color:#ff7b72}.s-stm{color:#e2e210}.s-h2o{color:#79c0ff}.s-food{color:#d2a8ff}
.day-d{display:flex;flex-direction:column;align-items:flex-end;line-height:1.2}
.t-day{color:#e2c55a;font-weight:bold;font-size:11px}
.t-night{color:#6e7681;font-weight:bold;font-size:11px}

/* â•â•â• MAIN STAGE â•â•â• */
.main{flex:1;display:flex;overflow:hidden;min-height:0}
.mc{flex:0 0 auto;display:flex;flex-direction:column;border-right:1px solid var(--border);width:65vmin;max-width:500px}
.vp{flex:1;background:#000;display:flex;justify-content:center;align-items:center;position:relative;overflow:hidden}
.night-ov{position:absolute;inset:0;background:rgba(5,10,30,0.45);pointer-events:none;z-index:40;opacity:0;transition:opacity 0.8s}.night-ov.on{opacity:1}
.insp{height:44px;background:#111;border-top:1px solid var(--border);padding:5px 10px;display:flex;align-items:center;gap:8px;flex-shrink:0}
.insp-i{font-size:18px;width:30px;height:30px;background:#1a1a1a;border:1px solid #333;border-radius:4px;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.tag{font-size:9px;font-weight:bold;padding:2px 6px;border-radius:3px;text-transform:uppercase;letter-spacing:.5px}
.tag-l{background:#0d3040;color:#3498db;border:1px solid #2980b9}
.tag-d{background:#3a1010;color:#f85149;border:1px solid var(--danger);animation:pf 1.5s infinite}
.tag-in{background:#1a2a10;color:#7cc832;border:1px solid #4a8020;font-size:10px}
.tag-c{background:#2a1a10;color:#d29922;border:1px solid #aa7722}
.tag-camp{background:#1a1a10;color:#c8a832;border:1px solid #8a7020;font-size:10px}

/* â•â•â• LOG â•â•â• */
.lc{flex:1;display:flex;flex-direction:column;background:#080808;min-width:140px}
.lh{padding:4px 8px;font-size:10px;color:#555;border-bottom:1px solid #1a1a1a;background:#0d0d0d;letter-spacing:1px}
.ll{flex:1;overflow-y:auto;padding:8px;font-size:11px}
.le{margin-bottom:5px;padding-left:8px;border-left:2px solid transparent;color:#555;line-height:1.3}
.l-good{color:#3fb950;border-left-color:#3fb950}.l-bad{color:#f85149;border-left-color:#f85149}
.l-imp{color:var(--accent);border-left-color:var(--accent)}.l-combat{color:#ff9f43;border-left-color:#ff9f43}

/* â•â•â• MOODLES â•â•â• */
.moo{position:absolute;top:8px;right:8px;display:flex;flex-direction:column;align-items:flex-end;gap:3px;pointer-events:none;z-index:50}
.mo{background:rgba(0,0,0,.85);border:1px solid #444;padding:3px 7px;border-radius:3px;font-weight:bold;font-size:10px}
.m-w{color:var(--warn);border-color:var(--warn)}.m-b{color:#f85149;border-color:#f85149}
.m-c{color:#ff4040;border-color:#ff4040;animation:pf 1s infinite}
.loc-ov{position:absolute;top:6px;left:6px;background:rgba(0,0,0,.8);color:#777;padding:2px 6px;border-radius:3px;font-size:9px;border:1px solid #333;pointer-events:none;z-index:20}

/* â•â•â• BOTTOM BAR â•â•â• */
.bb{height:280px;display:flex;border-top:2px solid var(--border);background:var(--panel);flex-shrink:0}
.pl{flex:1;display:flex;flex-direction:column;border-right:1px solid var(--border);min-width:0}
.pr{width:160px;display:flex;align-items:center;justify-content:center;flex-shrink:0;padding:10px}
.tabs{display:flex;border-bottom:1px solid var(--border);background:#000}
.tb{flex:1;padding:10px 4px;background:0;border:none;color:#555;cursor:pointer;font-weight:bold;font-size:10px;font-family:inherit;letter-spacing:.5px;border-right:1px solid #1a1a1a}
.tb:last-child{border-right:none}.tb.on{background:var(--panel);color:var(--accent);border-top:2px solid var(--accent)}
.tc{flex:1;padding:10px;overflow-y:auto;display:none}.tc.on{display:block}
.ag{display:flex;flex-direction:column;gap:6px}

/* â•â•â• TILES â•â•â• */
.mg{display:grid;background:#030303;border:1px solid #222}
.tl{width:var(--tile);height:var(--tile);display:flex;align-items:center;justify-content:center;font-size:calc(var(--tile)*.6);position:relative;cursor:pointer}
.t-fog{background:repeating-linear-gradient(45deg,#050505,#050505 5px,#080808 5px,#080808 10px)!important;color:transparent!important}
.t-grass{background:#1b261b;color:#4a7a4a}.t-forest{background:#0a140a;color:#1b381b}
.t-water{background:#2b6cb0;color:#81cdf0}.t-road{background:#262626;color:#444}
.t-bridge{background:#1a1a1a;color:#555;border-left:2px solid #000;border-right:2px solid #000}
.t-house{background:#3d342b;color:#a89f91;border:1px solid #5c4e42}
.t-store{background:#263238;color:#90a4ae;border:1px solid #455a64}
.t-camp{background:#2e221b;border:2px solid var(--accent)}
.t-claimed{background:#2e2a1b;border:2px solid #7cc832}
.t-bedroll{background:#2a2520;color:#a89070;border:1px solid #6b5540;box-shadow:inset 0 0 6px rgba(168,144,112,.15)}
.t-shelter{background:#2a2e1b;color:#8aaa60;border:2px solid #5a7830;box-shadow:inset 0 0 6px rgba(138,170,96,.15)}
.t-dep{opacity:.45;filter:grayscale(1)}.t-mem{opacity:.35;filter:grayscale(.8)}
.t-zomb{box-shadow:inset 0 0 8px rgba(218,54,51,.4)}
.zi{position:absolute;z-index:8;filter:drop-shadow(0 0 3px rgba(200,0,0,.6));animation:zs 2s ease-in-out infinite}
.pi{position:absolute;z-index:10;color:#fff;filter:drop-shadow(0 0 3px rgba(0,0,0,.9))}

/* Interior tiles */
.it-wall{background:#2a2520;color:#4a4540}.it-floor{background:#1a1815;color:#333}
.it-door{background:#3a3020;color:#d29922;font-weight:bold}
.it-window{background:#1a2530;color:#5588aa}
.it-shelf{background:#3d342b;color:#cba86a}.it-counter{background:#2a2828;color:#888}
.it-barr{position:absolute;inset:0;background:repeating-linear-gradient(45deg,transparent,transparent 3px,rgba(139,90,43,.3) 3px,rgba(139,90,43,.3) 6px);border:1px solid #8b5a2b;z-index:5;pointer-events:none}

/* â•â•â• BUTTONS & ITEMS â•â•â• */
.btn{background:#1a1f27;border:1px solid #2a2f37;color:var(--text);padding:10px;cursor:pointer;border-radius:4px;width:100%;text-align:left;margin-bottom:4px;display:flex;justify-content:space-between;align-items:center;font-family:inherit;font-size:12px}
.btn:hover:not(:disabled){background:#2a2f37;border-color:#555}
.btn:active:not(:disabled){background:#333;transform:scale(.97)}.btn:disabled{opacity:.4;cursor:not-allowed}
.btn-a{padding:12px;justify-content:center;gap:8px;font-weight:bold}
.btn-s{padding:8px;font-size:11px;color:#888}
.btn-fight{background:#2a1515!important;border-color:#8b3030!important;color:#ff7b72!important}
.btn-fight:active{background:#3a2020!important}

/* â”€â”€ Rest Buttons (tiered styling) â”€â”€ */
.btn-rest-rough{background:#1a1a18!important;border-color:#3a3520!important;color:#999!important}
.btn-rest-bedroll{background:#1f1d18!important;border-color:#5a4830!important;color:#c8a050!important}
.btn-rest-shelter{background:#1a2018!important;border-color:#4a6830!important;color:#8aaa60!important}
.btn-rest-camp{background:#201c18!important;border-color:#8b6a20!important;color:#d29922!important}
.btn-rest-home{background:#1a2a10!important;border-color:#4a8020!important;color:#7cc832!important}
.rest-qual{display:inline-flex;gap:2px;margin-left:6px;vertical-align:middle}
.rest-dot{width:6px;height:6px;border-radius:50%;background:#2a2a2a;border:1px solid #444;display:inline-block}
.rest-dot-on{background:#d29922;border-color:#e8b830}
.btn-rest-home .rest-dot-on{background:#7cc832;border-color:#90e040}
.btn-rest-shelter .rest-dot-on{background:#8aaa60;border-color:#a0c070}
.rest-cost{color:#666;font-weight:normal;margin-left:6px}

/* â”€â”€ Placement Buttons â”€â”€ */
.btn-place{background:#1a1d20!important;border-color:#3a5040!important;color:#8ab890!important}
.btn-place:hover:not(:disabled){background:#2a3530!important;border-color:#5a7a60!important}

.ib{cursor:pointer;background:#1a1a1a;border:1px solid #2a2a2a;border-radius:3px;font-family:inherit;font-size:10px;padding:4px 8px;margin-left:3px;color:#999}
.ib:hover{background:#2a2a2a;border-color:#444}.ib:active{transform:scale(.95)}
.ib-u{color:#3498db}.ib-d{color:#666}.ib-p{color:#8ab890}
.inv-w{font-size:11px;color:#555;text-align:right;margin-bottom:6px}.w-h{color:var(--danger);font-weight:bold}
.ii,.eq{display:flex;justify-content:space-between;align-items:center;padding:8px 10px;background:#111;border:1px solid #252525;margin-bottom:4px;border-radius:4px;font-size:12px}
.bs{font-size:9px;background:#2a2a2a;padding:2px 5px;border-radius:3px;color:#999;margin-left:4px}
.dt{width:100%;height:3px;background:#1a1a1a;margin-top:4px;border-radius:2px}
.df{height:100%;border-radius:2px;transition:width .3s}
.sl{font-size:9px;color:#444;letter-spacing:1px;margin-bottom:6px;padding-bottom:4px;border-bottom:1px solid #1a1a1a}
.sr{display:flex;justify-content:space-between;padding:4px 0;border-bottom:1px solid #1a1a1a;font-size:11px;color:#888}
.sln{color:#444;text-transform:uppercase;font-size:9px;width:50px;flex-shrink:0;letter-spacing:.5px}
.cs{display:flex;gap:10px;padding-bottom:8px;border-bottom:1px solid #222;margin-bottom:8px;color:#666;font-size:11px;flex-wrap:wrap}
.cs strong{color:#ccc}

/* â•â•â• D-PAD â•â•â• */
.mp{display:grid;grid-template-columns:repeat(3,1fr);gap:5px;width:100%}
.mp .btn{margin-bottom:0;padding:14px;justify-content:center;font-weight:bold;font-size:14px}
.cc{display:flex;align-items:center;justify-content:center;font-size:20px}

/* â•â•â• DEATH SCREEN â€” hidden by default â•â•â• */
.ds{position:fixed;inset:0;background:rgba(0,0,0,0);display:flex;align-items:center;justify-content:center;z-index:1000;pointer-events:none;opacity:0;transition:opacity 1.2s,background 1.5s}
.ds.on{pointer-events:all;opacity:1;background:rgba(10,0,0,.92)}
.dc{text-align:center;animation:df 1.
